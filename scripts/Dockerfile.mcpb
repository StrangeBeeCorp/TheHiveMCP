# Dockerfile for MCPB generation in CI
FROM node:24-alpine

# Install required tools
RUN apk add --no-cache bash git

# Install MCPB tool
RUN npm install -g @anthropic-ai/mcpb

# Copy logo and scripts to /usr/local/bin
COPY docs/images/thehivemcp-logo.png /usr/local/share/icon.png
COPY scripts/generate-mcpb.sh /usr/local/bin/generate-mcpb.sh

# Make script executable
RUN chmod +x /usr/local/bin/generate-mcpb.sh

# Set working directory for volumes
WORKDIR /workspace

ENTRYPOINT ["/usr/local/bin/generate-mcpb.sh"]
